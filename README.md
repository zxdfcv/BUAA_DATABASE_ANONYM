# 北航数据库大作业 2023
实现一个类似闲鱼平台的网站

组员：孙奕博、范程、张翼翔

前后端分离

前端：vue

后端：django

版本为 2023 年 11 月时的最新版

服务器端：Redis、Nginx、uwsgi

# 数据库大作计划

表：

1 用户表

相关字段：

- 用户名
- 用户类型
- 性别
- 头像
- 电子邮件
- 创建时间
- Token（可能要存这里）
- 加入的聊天室

2 权限的列举表

此表并不是数据库中的表，只是为了记录方便而使用。

主要有两个权限组：

- 普通用户权限组
- 管理员权限组

权限按一下分类：

- 商品类
  - 买商品
  - 卖商品

- 用户管理类
  - 封禁用户
  - 删除用户
  - 修改用户
  - 增加用户
  - 改用户权限

- 聊天和讨论区类
  - 能否聊天
  - 能否讨论


3 商品表（记录商品信息）

- 商品名称
- 商品 id （唯一的标识信息）
- 所属商家
- 商品分类
- 商品描述
- 商品评价
- 商品的浏览数
- 商品的购买数
- 商品的上架时间
- 商品的图片（多对多或者外键）

4 评论表（商品评论记录）

- 评论内容
- 评论的商品
- 发送对象
- 评论时间
- 父亲评论（如果没有就是根评论）

5 聊天消息表（聊天记录）

- sender（发）
- receiver（接收）
- 创建时间

6 操作日志表

- ip
- 时间
- URL
- 请求方法

7 登录日志表

- ip

8 错误日志表

9 交易数据表

- 记录交易的时间
- 金额
- 情况
  - 未支付、已支付、待收货、已收货、是否评价


10 评价相关（对应是否评价）

- 评价人
- 被评价人
- 商品
- 评分

11 商品分类一级

- 分类名称

12 商品分类二级

- 分类名称



数据管理功能



基本要求：

系统需要有数据管理功能，能够浏览、查看相关的关系表中的数据，并对其进行添加、修改或者删除。

高级要求：

（1）系统可以支持Excel或者XML格式文件数据的导入、导出。

（2）支持高级用户对数据的审核。（管理员查看日志）

（3）支持数据的自动获取，比如从网站爬取相关数据。（价格（淘宝、京东等），商品的热度）



数据展示功能



基本要求：

系统需要有系统展示功能，可以展示系统首页，数据的列表、详情，支持多种条件的查询，数据的排序、翻页、跳转等。可以采用图片、文字或者视频、音频的方式进行展示。

高级要求：

支持对数据的全文检索（搜索框），或者数据之间的比较、数据的推荐。（数据推荐（Tag 等））



业务功能

基本要求：

系统需要支持某种业务功能，比如选课、购买商品、预定和入住旅馆房间等。

高级要求：

支持相关人员对业务进行管理，比如对选课或者商品订单的审核，对快递小哥派发相关送货任务等。（发布商品审核、异常订单处理）



统计分析

基本要求：系统需要支持统计分析功能，支持按照不同的角度对数据进行统计汇总（比如按商品类别、价格区间、生产厂商等角度统计销售情况），用报表和统计图形展示统计结果，以及将其导出为PDF或者word文件。（后端套用表）

高级要求：

（1）可以对数据进行钻取操作，按照不同的粒度对数据进行统计，比如从省到其下属的市，从市到其下属的区县逐级对商品的产地进行统计分析。（2）数据的关联，比如从论文的信息关联到相关的科研人员，从科研人员关联到相关的单位进行统计分析。（购买和发货地、三级地址）（按时间）

5. 安全防护

基本要求：

系统需要有安全防护功能，支持多个类别的用户，提供用户的注册、审核、权限分配、登录等功能。

高级要求：

够记录和获取用户的访问日志，甚至用户对于数据的操作，支持安全管理人员对日志进行浏览、查询和统计分析。

后台模板：ElementUI、AntDesign、AdminLTE





## 前端

支持 socket
