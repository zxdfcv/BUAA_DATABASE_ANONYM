import{s as y,u as S,z as x,a as D,r as k,A as I,H as m,l as V,b as v,o,n as _,i as a,g as p,f as B,e as C,F as b,B as N,c as g,C as T,D as q,p as A,k as L}from"./index-6d07a472.js";import{g as R}from"./product-eb9e53e1.js";import{S as U}from"./ShopItemCard-745606da.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import"./avatar-4ee3f7af.js";import"./addProduct-cfaaac86.js";const F=c=>(A("data-v-21d3d9c1"),c=c(),L(),c),P={class:"content-list"},z={key:0,class:"list-title"},H={key:1,class:"list-title"},M=F(()=>p("div",{role:"tablist",class:"list-tabs-view flex-view"},null,-1)),O={class:"list-content"},j={class:"collect-thing-view"},G={class:"thing-list flex-view"},J={__name:"wish-thing-view",setup(c){const f=y(),u=S(),l=x(),r=D({collectData:[]}),d=k(!1),w=s=>{const i=[];for(var n=0;n<s.length;n++){const e=s[n];console.log(e);const t={};t.name=e.name,t.id=e.id,t.price=e.price,t.url=e.images.length!==0?q+e.images[0].image:null,t.avatarUrl=e.merchant_avatar,t.uploaderId=e.merchant,t.uploaderName=e.merchant_name,t.pv=e.views,t.off_shelve=e.off_shelve,t.is_sold=e.is_sold,i.push(t)}return i};I(()=>{m().query.id||f.push({name:"wishThingView",query:{id:String(u.user_id)}}),l.setViewId(m().query.id),h()});const h=async()=>{d.value=!0,R({user:l.view_user_id,sold:2}).then(s=>{const i=s.data;s.code===0&&(r.collectData=w(i)),d.value=!1}).catch(s=>{console.log(s),V({type:"error",message:"Oops!",description:s}),d.value=!1})};return(s,i)=>{const n=v("a-empty"),e=v("a-spin");return o(),_("div",P,[a(l).view_user_id===a(u).user_id?(o(),_("div",z,"我的发布")):(o(),_("div",H,"Ta的发布")),M,p("div",O,[p("div",j,[B(e,{spinning:a(d),style:{"min-height":"200px"}},{default:C(()=>[p("div",G,[(o(!0),_(b,null,N(a(r).collectData,(t,K)=>(o(),g(U,{key:t.id,"shop-card":t,loading:!1,editable:a(l).view_user_id===a(u).user_id,onDeleteCollecter:h,style:{width:"30%",margin:"1%"}},null,8,["shop-card","editable"]))),128)),!a(r).collectData||a(r).collectData.length<=0?(o(),g(n,{key:0,style:{width:"100%","margin-top":"200px"}})):T("",!0)])]),_:1},8,["spinning"])])])])}}},ee=E(J,[["__scopeId","data-v-21d3d9c1"]]);export{ee as default};
