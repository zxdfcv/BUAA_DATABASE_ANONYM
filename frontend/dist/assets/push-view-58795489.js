import{u as m,z as u,k as f,J as w,r as g,o as x,b as A,e as s,w as I,v as k,f as p,A as r,l as b,h as z,m as h,K as S,p as U,g as V}from"./index-68c43909.js";import{_ as Z}from"./_plugin-vue_export-helper-c27b6911.js";const n=l=>(U("data-v-e65a9859"),l=l(),V(),l),y={class:"content-list"},B=n(()=>s("div",{class:"list-title"},"推送设置",-1)),D={class:"list-content"},C={class:"push-view"},M={class:"item flex-view"},N=n(()=>s("div",{class:"label"},"推送邮箱",-1)),R={class:"right-box"},E={class:"item flex-view"},F=n(()=>s("div",{class:"label"},"接受邮件消息",-1)),J={class:"right-box"},K={__name:"push-view",setup(l){z();const d=m();let a=u(""),o=u(!1);f(()=>{_()});const _=()=>{let c=d.user_id;w({id:c}).then(e=>{e.data&&(a.value=e.data.push_email,e.data.push_switch&&(o.value=!0))}).catch(e=>{console.log(e)})},v=()=>{const c=/^[a-zA-Z0-9][a-zA-Z0-9_]+\@[a-zA-Z0-9]+\.[a-zA-Z]{2,5}(\.[a-zA-Z]{2,5})*$/i;if(!a.value.match(c)){h.warn("请输入正确的邮箱格式");return}let e=d.user_id;const i=new FormData;a.value&&i.append("push_email",a.value),i.append("push_switch",o.value?"true":"false"),S({id:e},i).then(t=>{_(),h.success("保存成功")}).catch(t=>{console.log(t)})};return(c,e)=>{const i=g("a-switch");return x(),A("div",y,[B,s("div",D,[s("div",C,[s("div",M,[N,s("div",R,[I(s("input",{type:"text",class:"input-dom",placeholder:"请输入邮箱","onUpdate:modelValue":e[0]||(e[0]=t=>r(a)?a.value=t:a=t)},null,512),[[k,p(a)]])])]),s("div",E,[F,s("div",J,[b(i,{checked:p(o),"onUpdate:checked":e[1]||(e[1]=t=>r(o)?o.value=t:o=t)},null,8,["checked"])])]),s("button",{class:"save mg",onClick:e[2]||(e[2]=t=>v())},"保存")])])])}}},q=Z(K,[["__scopeId","data-v-e65a9859"]]);export{q as default};
