import{s as q,u as z,z as D,a as w,r as k,A as M,H as S,b as i,o,n as u,i as e,g as s,f as d,e as n,t as b,c as x,D as N,j as A,F as R,C as T,a6 as U,p as E,k as j}from"./index-6d07a472.js";import{A as H}from"./avatar-4ee3f7af.js";import{_ as L}from"./_plugin-vue_export-helper-c27b6911.js";const B=c=>(E("data-v-8cf039b4"),c=c(),j(),c),$={class:"content-list"},G={key:0,class:"list-title"},J={key:1,class:"list-title"},K=B(()=>s("div",{role:"tablist",class:"list-tabs-view flex-view"},null,-1)),O={class:"list-content"},P={class:"collect-thing-view"},Q={class:""},W=B(()=>s("div",null,[A(" Built by "),s("b",null,"BUAA DataBase")],-1)),X=["onClick"],Y={__name:"MyFans",setup(c){const f=q(),m=z(),p=D();w({collectData:[]});let l=w([]),h=k(1);const r={onChange:t=>{console.log(t),h.value=t,y()},pageSize:4,total:0},v=k(!1),y=async()=>{v.value=!0;const t=await U({user_id:p.view_user_id,limit:r.pageSize,offset:(h.value-1)*r.pageSize});l.length=0;for(let _=0;_<t.data.results.length;_++)l.push(t.data.results[_]);r.total=t.data.count,v.value=!1};return M(async()=>{S().query.id||f.push({name:"scoreView",query:{id:m.user_id}}),await p.setViewId(S().query.id.trim()),await y()}),(t,_)=>{const g=i("a-avatar"),C=i("a-list-item-meta"),F=i("a-list-item"),I=i("a-list"),V=i("a-spin");return o(),u("div",$,[e(p).view_user_id===e(m).user_id?(o(),u("div",G,"我的粉丝")):(o(),u("div",J,"Ta的粉丝")),K,s("div",O,[s("div",P,[d(V,{spinning:e(v),style:{"min-height":"200px"}},{default:n(()=>[s("div",Q,[d(I,{"item-layout":"vertical",size:"large",pagination:r,"data-source":e(l),style:{width:"90%","align-content":"center"}},{footer:n(()=>[W]),renderItem:n(({item:a})=>[d(F,{key:"item.title"},{default:n(()=>[d(C,null,{title:n(()=>[s("a",{onClick:Z=>e(f).push({name:"wishThingView",query:{id:a.follower}})},b(a.follower_name),9,X)]),avatar:n(()=>[a.follower_avatar===""||a.follower_avatar===null||a.follower_avatar===void 0?(o(),x(g,{key:1,src:e(H)},null,8,["src"])):(o(),x(g,{key:0,src:e(N)+"/upload/"+a.follower_avatar},null,8,["src"]))]),_:2},1024),A(" 关注时间："+b(a.create_time),1)]),_:2},1024)]),_:1},8,["data-source"]),!e(l)||e(l).length<=0?(o(),u(R,{key:0},[],64)):T("",!0)])]),_:1},8,["spinning"])])])])}}},se=L(Y,[["__scopeId","data-v-8cf039b4"]]);export{se as default};
