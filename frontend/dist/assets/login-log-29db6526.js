import{l as v}from"./log-887ef7ac.js";import{d as w,a as p,k as C,z as I,r as l,o as _,b as g,e as c,l as d,x as m,y as L,f as a,p as b,g as z}from"./index-68c43909.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const $=t=>(b("data-v-661626b8"),t=t(),z(),t),B={class:"page-view"},E={key:0},K=["onClick"],N=$(()=>c("a",{href:"#"},"删除",-1)),R=w({__name:"login-log",setup(t){const f=p([{title:"序号",dataIndex:"index",key:"index",align:"center"},{title:"IP地址",dataIndex:"ip",key:"ip",align:"center"},{title:"User-Agent",dataIndex:"ua",key:"ua",align:"center"},{title:"登录时间",dataIndex:"log_time",key:"log_time",align:"center"}]),e=p({dataList:[],loading:!1,keyword:"",selectedRowKeys:[],pageSize:10,page:1});C(()=>{u()});const u=()=>{e.loading=!0,v({keyword:e.keyword}).then(o=>{e.loading=!1,console.log(o),o.data.forEach((n,s)=>{n.index=s+1}),e.dataList=o.data}).catch(o=>{e.loading=!1,console.log(o)})};return I({onChange:(o,n)=>{console.log(`selectedRowKeys: ${o}`,"selectedRows: ",n),e.selectedRowKeys=o}}),(o,n)=>{const s=l("a-divider"),h=l("a-popconfirm"),x=l("a-table");return _(),g("div",null,[c("div",B,[d(x,{size:"middle",rowKey:"id",loading:a(e).loading,columns:a(f),"data-source":a(e).dataList,scroll:{x:"max-content"},pagination:{size:"default",current:a(e).page,pageSize:a(e).pageSize,onChange:i=>a(e).page=i,showSizeChanger:!1,showTotal:i=>`共${i}条数据`}},{bodyCell:m(({text:i,record:r,index:V,column:y})=>[y.key==="operation"?(_(),g("span",E,[c("a",{onClick:k=>o.handleEdit(r)},"编辑",8,K),d(s,{type:"vertical"}),d(h,{title:"确定删除?","ok-text":"是","cancel-text":"否",onConfirm:k=>o.confirmDelete(r)},{default:m(()=>[N]),_:2},1032,["onConfirm"])])):L("",!0)]),_:1},8,["loading","columns","data-source","pagination"])])])}}});const P=S(R,[["__scopeId","data-v-661626b8"]]);export{P as default};
