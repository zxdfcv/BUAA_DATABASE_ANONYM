import{H as k,F as S}from"./footer-1ce37bd7.js";import{u as D,h as z,C,a as b,k as P,D as B,B as I,r as f,o as _,b as r,e as t,t as l,f as o,l as d,x as V,F,n as $,y as q,p as E,g as L}from"./index-68c43909.js";import{l as N}from"./thing-333260d6.js";import{_ as y}from"./_plugin-vue_export-helper-c27b6911.js";import"./comment-13bad695.js";import"./logo_b-9bb82155.js";import"./avatar-4ee3f7af.js";const h=i=>(E("data-v-3dce662f"),i=i(),L(),i),R={class:"content-margin"},U={class:"search-name-box"},A={class:"search-tab-nav clearfix"},H={class:"tab-text"},M=h(()=>t("span",null,"与",-1)),O={class:"strong"},T=h(()=>t("span",null,"相关的内容",-1)),j={class:"content-list"},G={class:"thing-list"},J={class:"pc-thing-list"},K=["onClick"],Q={class:"img-view"},W=["src"],X={class:"info-view"},Y={class:"thing-name"},Z={style:{color:"#444","font-size":"11px",height:"11px"}},ee=h(()=>t("br",null,null,-1)),te={style:{color:"#444","font-size":"11px",height:"11px"}},se={key:0,class:"no-data",style:{}},ae={class:"page-view",style:{}},oe={__name:"search-content-view",setup(i){D();const g=z(),p=C(),e=b({loading:!1,keyword:"",thingData:[],pageData:[],page:1,total:0,pageSize:20});P(()=>{u()}),B(()=>p.query,(a,s)=>{u()},{immediate:!1});const u=()=>{var a;e.keyword=(a=p.query.keyword)==null?void 0:a.trim(),x({keyword:e.keyword})},v=a=>{e.page=a;let s=(e.page-1)*e.pageSize;e.pageData=e.thingData.slice(s,s+e.pageSize),console.log("第"+e.page+"页")},w=a=>{let s=g.resolve({name:"detail",query:{id:a.id}});window.open(s.href,"_blank")},x=a=>{e.loading=!0,N(a).then(s=>{s.data.forEach((c,m)=>{c.cover&&(c.cover=I+c.cover)}),e.thingData=s.data,e.total=e.thingData.length,v(1),e.loading=!1}).catch(s=>{console.log(s),e.loading=!1})};return(a,s)=>{const c=f("a-spin"),m=f("a-pagination");return _(),r("div",R,[t("h1",U,l(o(e).keyword),1),t("div",A,[t("div",H,[M,t("span",O,l(o(e).keyword),1),T])]),t("div",j,[t("div",G,[d(c,{spinning:o(e).loading,style:{"min-height":"200px"}},{default:V(()=>[t("div",J,[(_(!0),r(F,null,$(o(e).pageData,n=>(_(),r("div",{key:n.id,onClick:_e=>w(n),class:"thing-item item-column-3"},[t("div",Q,[t("img",{src:n.cover},null,8,W)]),t("div",X,[t("h3",Y,l(n.title.substring(0,12)),1),t("span",Z,l(n.create_time.substring(0,16)),1),ee,t("span",te,l(n.pv)+"次浏览",1)])],8,K))),128)),o(e).pageData.length<=0&&!o(e).loading?(_(),r("div",se,"暂无数据")):q("",!0)])]),_:1},8,["spinning"]),t("div",ae,[d(m,{value:o(e).page,"onUpdate:value":s[0]||(s[0]=n=>o(e).page=n),size:"small",onChange:v,hideOnSinglePage:!0,defaultPageSize:o(e).pageSize,total:o(e).total},null,8,["value","defaultPageSize","total"])])])])])}}},ne=y(oe,[["__scopeId","data-v-3dce662f"]]);const ie={class:"search"},ce={class:"search-content"},le={__name:"search",setup(i){return(g,p)=>(_(),r("div",ie,[d(k),t("div",ce,[d(ne)]),d(S)]))}},me=y(le,[["__scopeId","data-v-921c279a"]]);export{me as default};
