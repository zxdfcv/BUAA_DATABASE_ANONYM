import{d as x,u as D,a as S,z as B,k as I,B as V,r as v,o as c,b as n,e as t,l as b,x as L,F as T,n as A,t as d,y as h,f as _,c as E,m as N,p as R,g as U,h as F}from"./index-68c43909.js";import{g as $,e as q}from"./thing-333260d6.js";import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const g=l=>(R("data-v-ffc2c374"),l=l(),U(),l),M={class:"content-list"},j=g(()=>t("div",{class:"list-title"},"菜肴收藏",-1)),G=g(()=>t("div",{role:"tablist",class:"list-tabs-view flex-view"},null,-1)),H={class:"list-content"},J={class:"collect-thing-view"},K={class:"thing-list flex-view"},O=["onClick"],P=["onClick"],Q=["src"],W={class:"info-view"},X={class:"thing-name"},Y={key:0,class:"authors"},Z={key:1,class:"translators"},ee=x({__name:"collect-thing-view",setup(l){const m=F(),p=D(),i=S({collectData:[]}),r=B(!1);I(()=>{u()});const f=a=>{let e=m.resolve({name:"detail",query:{id:a.id}});window.open(e.href,"_blank")},k=a=>{let e=p.user_name;q({username:e,thingId:a.id}).then(o=>{N.success("移除成功"),u()}).catch(o=>{console.log(o)})},u=()=>{r.value=!0;let a=p.user_name;$({username:a}).then(e=>{e.data.forEach(o=>{o.cover=V+o.cover}),console.log(e.data),i.collectData=e.data,r.value=!1}).catch(e=>{console.log(e.msg),r.value=!1})};return(a,e)=>{const o=v("a-empty"),w=v("a-spin");return c(),n("div",M,[j,G,t("div",H,[t("div",J,[b(w,{spinning:_(r),style:{"min-height":"200px"}},{default:L(()=>[t("div",K,[(c(!0),n(T,null,A(_(i).collectData,(s,y)=>(c(),n("div",{class:"thing-item item-column-3",key:y},[t("div",{class:"remove",onClick:C=>k(s)},"移出",8,O),t("div",{class:"img-view",onClick:C=>f(s)},[t("img",{src:s.cover},null,8,Q)],8,P),t("div",W,[t("h3",X,d(s.title),1),s.author?(c(),n("p",Y,d(s.author)+"（作者)",1)):h("",!0),s.translator?(c(),n("p",Z,d(s.translator)+"（译者）",1)):h("",!0)])]))),128)),!_(i).collectData||_(i).collectData.length<=0?(c(),E(o,{key:0,style:{width:"100%","margin-top":"200px"}})):h("",!0)])]),_:1},8,["spinning"])])])])}}});const ae=z(ee,[["__scopeId","data-v-ffc2c374"]]);export{ae as default};
