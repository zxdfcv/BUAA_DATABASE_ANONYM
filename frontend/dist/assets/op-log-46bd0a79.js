import{a as v}from"./log-887ef7ac.js";import{d as w,a as p,k as C,z as I,r as d,o as g,b as m,e as l,l as c,x as u,y as L,f as a,p as z,g as S}from"./index-68c43909.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const b=n=>(z("data-v-d61a8083"),n=n(),S(),n),$={class:"page-view"},B={key:0},E=["onClick"],K=b(()=>l("a",{href:"#"},"删除",-1)),N=w({__name:"op-log",setup(n){const f=p([{title:"序号",dataIndex:"index",key:"index",align:"center"},{title:"请求方式",dataIndex:"re_method",key:"re_method",align:"center"},{title:"请求URL",dataIndex:"re_url",key:"re_url",align:"center"},{title:"操作IP",dataIndex:"re_ip",key:"re_ip",align:"center"},{title:"操作时间",dataIndex:"re_time",key:"re_time",align:"center"},{title:"耗时",dataIndex:"access_time",key:"access_time",align:"center",customRender:({text:e,record:o,index:s,column:r})=>e+"ms"}]),t=p({dataList:[],loading:!1,keyword:"",selectedRowKeys:[],pageSize:10,page:1});C(()=>{h()});const h=()=>{t.loading=!0,v({keyword:t.keyword}).then(e=>{t.loading=!1,console.log(e),e.data.forEach((o,s)=>{o.index=s+1}),t.dataList=e.data}).catch(e=>{t.loading=!1,console.log(e)})};return I({onChange:(e,o)=>{console.log(`selectedRowKeys: ${e}`,"selectedRows: ",o),t.selectedRowKeys=e}}),(e,o)=>{const s=d("a-divider"),r=d("a-popconfirm"),x=d("a-table");return g(),m("div",null,[l("div",$,[c(x,{size:"middle",rowKey:"id",loading:a(t).loading,columns:a(f),"data-source":a(t).dataList,scroll:{x:"max-content"},pagination:{size:"default",current:a(t).page,pageSize:a(t).pageSize,onChange:i=>a(t).page=i,showSizeChanger:!1,showTotal:i=>`共${i}条数据`}},{bodyCell:u(({text:i,record:_,index:V,column:y})=>[y.key==="operation"?(g(),m("span",B,[l("a",{onClick:k=>e.handleEdit(_)},"编辑",8,E),c(s,{type:"vertical"}),c(r,{title:"确定删除?","ok-text":"是","cancel-text":"否",onConfirm:k=>e.confirmDelete(_)},{default:u(()=>[K]),_:2},1032,["onConfirm"])])):L("",!0)]),_:1},8,["loading","columns","data-source","pagination"])])])}}});const O=R(N,[["__scopeId","data-v-d61a8083"]]);export{O as default};
