import{d as x,u as b,a as D,z as S,k as B,B as I,r as v,o as n,b as c,e as t,l as V,x as L,F as E,n as N,t as d,y as u,f as _,c as R,m as A,p as F,g as U,h as $}from"./index-68c43909.js";import{g as q,r as z}from"./classification-7925674c.js";import{_ as M}from"./_plugin-vue_export-helper-c27b6911.js";const m=l=>(F("data-v-bf91f582"),l=l(),U(),l),j={class:"content-list"},G=m(()=>t("div",{class:"list-title"},"柜台收藏",-1)),H=m(()=>t("div",{role:"tablist",class:"list-tabs-view flex-view"},null,-1)),J={class:"list-content"},K={class:"collect-thing-view"},O={class:"thing-list flex-view"},P=["onClick"],Q=["onClick"],T=["src"],W={class:"info-view"},X={class:"thing-name"},Y={key:0,class:"authors"},Z={key:1,class:"translators"},ee=x({__name:"score-view",setup(l){const f=$(),h=b(),i=D({collectData:[]}),r=S(!1);B(()=>{p()});const g=a=>{let e=f.resolve({name:"detailCanteen",query:{id:a.id}});window.open(e.href,"_blank")},C=a=>{let e=h.user_name;z({username:e,classificationId:a.id}).then(o=>{A.success("移除成功"),p()}).catch(o=>{console.log(o)})},p=()=>{r.value=!0;let a=h.user_name;q({username:a}).then(e=>{e.data.forEach(o=>{o.cover=I+o.cover}),console.log(e.data),i.collectData=e.data,r.value=!1}).catch(e=>{console.log(e.msg),r.value=!1})};return(a,e)=>{const o=v("a-empty"),k=v("a-spin");return n(),c("div",j,[G,H,t("div",J,[t("div",K,[V(k,{spinning:_(r),style:{"min-height":"200px"}},{default:L(()=>[t("div",O,[(n(!0),c(E,null,N(_(i).collectData,(s,w)=>(n(),c("div",{class:"thing-item item-column-3",key:w},[t("div",{class:"remove",onClick:y=>C(s)},"移出",8,P),t("div",{class:"img-view",onClick:y=>g(s)},[t("img",{src:s.cover},null,8,T)],8,Q),t("div",W,[t("h3",X,d(s.title),1),s.author?(n(),c("p",Y,d(s.author)+"（作者)",1)):u("",!0),s.translator?(n(),c("p",Z,d(s.translator)+"（译者）",1)):u("",!0)])]))),128)),!_(i).collectData||_(i).collectData.length<=0?(n(),R(o,{key:0,style:{width:"100%","margin-top":"200px"}})):u("",!0)])]),_:1},8,["spinning"])])])])}}});const ae=M(ee,[["__scopeId","data-v-bf91f582"]]);export{ae as default};
