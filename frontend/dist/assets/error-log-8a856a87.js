import{b as v}from"./log-887ef7ac.js";import{d as w,a as p,k as C,z as I,r as d,o as _,b as g,e as c,l,x as m,y as L,f as o,p as b,g as z}from"./index-68c43909.js";import{_ as S}from"./_plugin-vue_export-helper-c27b6911.js";const E=a=>(b("data-v-7b18c717"),a=a(),z(),a),R={class:"page-view"},$={key:0},B=["onClick"],K=E(()=>c("a",{href:"#"},"删除",-1)),N=w({__name:"error-log",setup(a){const f=p([{title:"序号",dataIndex:"index",key:"index",align:"center"},{title:"请求方式",dataIndex:"method",key:"method",align:"center"},{title:"请求URL",dataIndex:"url",key:"url",align:"center"},{title:"异常信息",dataIndex:"content",key:"content"},{title:"操作IP",dataIndex:"ip",key:"ip",align:"center"},{title:"操作时间",dataIndex:"log_time",key:"log_time",align:"center"}]),e=p({dataList:[],loading:!1,keyword:"",selectedRowKeys:[],pageSize:10,page:1});C(()=>{u()});const u=()=>{e.loading=!0,v({keyword:e.keyword}).then(t=>{e.loading=!1,console.log(t),t.data.forEach((n,s)=>{n.index=s+1}),e.dataList=t.data}).catch(t=>{e.loading=!1,console.log(t)})};return I({onChange:(t,n)=>{console.log(`selectedRowKeys: ${t}`,"selectedRows: ",n),e.selectedRowKeys=t}}),(t,n)=>{const s=d("a-divider"),h=d("a-popconfirm"),x=d("a-table");return _(),g("div",null,[c("div",R,[l(x,{size:"middle",rowKey:"id",loading:o(e).loading,columns:o(f),"data-source":o(e).dataList,scroll:{x:"max-content"},pagination:{size:"default",current:o(e).page,pageSize:o(e).pageSize,onChange:i=>o(e).page=i,showSizeChanger:!1,showTotal:i=>`共${i}条数据`}},{bodyCell:m(({text:i,record:r,index:V,column:y})=>[y.key==="operation"?(_(),g("span",$,[c("a",{onClick:k=>t.handleEdit(r)},"编辑",8,B),l(s,{type:"vertical"}),l(h,{title:"确定删除?","ok-text":"是","cancel-text":"否",onConfirm:k=>t.confirmDelete(r)},{default:m(()=>[K]),_:2},1032,["onConfirm"])])):L("",!0)]),_:1},8,["loading","columns","data-source","pagination"])])])}}});const P=S(N,[["__scopeId","data-v-7b18c717"]]);export{P as default};
